<app-add-image-popup *ngIf="flag && window"></app-add-image-popup>
<app-offer-popup *ngIf="offer"></app-offer-popup>
<div class="col-sm-8 text-left">
  <h1>{{ answer }}</h1>
  <h1>Update Products</h1>
  <p>
    Σε αυτή την σελιδά διεξάγονται όλες οι χρήσιμες λειτουργείες για κάθες
    προϊόν. Βλέποντας απο την αρχή της σελιδάς υπάρχει ένα κουμπί με όνομα
    'Update Products'. Με αυτό το κουμπί αναναιώνονται τα προϊόντα με όλες τις
    αλλαγές που έχουν γίνει στο Soft1. Στη συνέχεια υπάρχει ένας πίνακας με όλα
    τα ενεργά προϊόντα που υπάρχουν στην ιστοσελίδα. <br /><br />Σε αυτόν τον
    πίνακα μπορούν να επεξεργαστούν πεδία οπως:<br />
    1)Αρχική φωτογραφία προϊόνοτς<br>
    2)Προσθήκη Προσφοράς<br>
    3)Αλλαγη Προσφοράς<br>
    4)Αφαίρεση Προσφοράς<br>
    5)Επιλογή της προσφοράς που εμφανίζεται στην αρχική σελίδα


  </p>
  <app-pop-up-login [button]="'Update Products'" [id]="'4'"></app-pop-up-login>
  <hr />

  <h3>Current Products</h3>
  <app-searchbar></app-searchbar>
  <br />
  <table class="table table-dark">
    <thead>
      <tr>
        <th scope="col">Code</th>
        <th scope="col">Name</th>
        <th scope="col">Availability</th>
        <th scope="col">Retail Price</th>
        <th scope="col">Wholesale Price</th>

        <th scope="col">Image</th>
        <th scope="col">Change</th>
        <th scope="col">Offer</th>
        <th scope="col">Show In Homepage</th>
      </tr>
    </thead>
    <tbody>
      <tr
        *ngFor="
          let item of products
            | paginate
              : {
                  itemsPerPage: 9,
                  currentPage: page,
                  totalItems: products.length
                }
        "
      >
        <td style="padding-right: 50px">
          <p style="width: 200%">{{ item.code }}</p>
        </td>
        <td style="padding-right: 300px">
          <p style="width: 350%">{{ item.name }}</p>
        </td>
        <td>{{ item.stock }}</td>
        <td>{{ item.retail }}</td>
        <td>{{ item.wholesale }}</td>
        <td>
          <button
            class="btn btn-success"
            *ngIf="item.img == 'EMPTY'"
            (click)="open(item.mtrl)"
          >
            Add image
          </button>
          <img
            *ngIf="item.img != 'EMPTY'"
            style="width: 100%"
            [src]="item.img"
          />
        </td>
        <td>
          <button
            class="btn btn-success"
            *ngIf="item.img != 'EMPTY'"
            (click)="open(item.mtrl)"
          >
            Change Photo
          </button>
        </td>
        <td>
          <button
            *ngIf="!item.hasOffer"
            class="btn btn-success"
            (click)="openOffer(item)"
          >
            Add offer
          </button>
          <p *ngIf="item.hasOffer">{{ item.offer }}</p>
          <button
            class="btn btn-success"
            *ngIf="item.hasOffer"
            (click)="openOffer(item)"
          >
            Change Offer
          </button>
          <br />

          <button
            class="btn btn-danger"
            *ngIf="item.hasOffer"
            (click)="deleteOffer(item)"
          >
            Remove Offer
          </button>
        </td>

        <td>
          <button
            class="btn btn-success"
            style="width: 100%"
            [disabled]="!item.hasOffer"
            (click)="addToHomePage(item)"
          >
            Add To Homepage
          </button>
        </td>
      </tr>
    </tbody>
  </table>
  <pagination-controls
    class="text-center my-pagination"
    (pageChange)="changePage($event)"
  ></pagination-controls>
</div>
