<app-navbar></app-navbar>
<div class="card">

    <form *ngIf="showUserDetails" (ngSubmit)="handleUserDetails(userDetailsForm)" #userDetailsForm="ngForm">
        <h3>User Details</h3>
        <div class="fields">
            <label for="companyName">Company Name</label>
            <input type="text" id="companyName" class="form form-control" disabled="true" [value]="loadedUser.eponimia">
        </div>
        <div class="left-side">
            <div class="fields">
                <label for="afm">ΑΦΜ</label>
                <input type="text" id="afm" class="form form-control" disabled="true" [value]="loadedUser.afm">
            </div>
            <div class="fields">
                <label for="city">City</label>
                <input type="text" id="city" class="form form-control" disabled="true" [value]="loadedUser.city">
            </div>
            <div class="fields">
                <label for="zipCode">Zip Code</label>
                <input type="text" id="zipCode" class="form form-control" disabled="true" [value]="loadedUser.zip">
            </div>
        </div>

        <div class="right-side">
            <div class="fields">
                <label for="doy">ΔΟΥ</label>
                <input type="text" id="doy" class="form form-control" disabled="true" [value]="loadedUser.doy">
            </div>
            <div class="fields">
                <label for="phone">Phone</label>
                <input type="text" id="phone" class="form form-control" disabled="true" [value]="loadedUser.phone1">
            </div>
            <div class="fields">
                <label for="address">Address</label>
                <input type="text" id="address" class="form form-control" disabled="true" [value]="loadedUser.address">
            </div>
        </div>
        <div class="fields" style="padding-left: 22%;padding-right: 22%;">
            <label for="comments" style="margin-top: 60px;">Comments</label>
            <textarea class="form form-control" name="comments" id="comments" cols="30" rows="3" ngModel></textarea>
        </div>

        <button style="margin-top:60px;" class="btn btn-danger" (click)="handleGoBackToCart()">Back To Cart</button>
        <button style="margin-top:60px; margin-left: 23%;" class="btn btn-primary" type="submit" [disabled]="!userDetailsForm.valid">Continue to payment</button>

    </form>


    <form *ngIf="showPayment" #paymentForm="ngForm">
        <h3>Payment Info</h3>
        <div style="margin-top: 60px;">
            <ul style="list-style: none;">
                <li style="display: inline-block; margin-right: 5%;"><a [ngClass]="showCreditCard? 'selected' : ''" style="font-size: 18px; cursor: pointer;color: black;" (click)="handlePaymentMethod(creditCard)" #creditCard>Credit Card</a></li>
                <li style="display: inline-block; margin-right: 5%;"><a style="font-size: 18px; cursor: pointer;" (click)="handlePaymentMethod(bankTransfer)" #bankTransfer>Bank Transfer</a></li>
            </ul>
        </div>
        <div>
            <div style="margin-top: 10%;" *ngIf="showCreditCard">
                <div class="left-side">
                    <div class="fields">
                        <label for="creditCardNumber">Credit Card Number</label>
                        <input name="creditCardNumber" type="text" id="creditCardNumber" class="form form-control" ngModel required>
                    </div>
                    <div class="fields">
                        <label for="nameOnCreditCard">Name On Credit Card</label>
                        <input name="nameOnCreditCard" type="text" id="nameOnCreditCard" class="form form-control" ngModel required>
                    </div>
                </div>
                <div class="right-side">
                    <div class="fields">
                        <label for="expirationDate">Expiration Date</label>
                        <input name="expirationDate" type="text" id="expirationDate" class="form form-control" ngModel required>
                    </div>
                    <div class="fields">
                        <label for="cvv">CVV</label>
                        <input name="cvv" type="text" id="cvv" class="form form-control" ngModel required>
                    </div>
                </div>
              <h3>{{ answer }}</h3>
            </div>

            <p style="margin-top: 10%;" *ngIf="showCashOnDelivery">hello2</p>
            <p style="margin-top: 10%;" *ngIf="showBankTransfer">hello3</p>
        </div>

        <button style="margin-top:60px;" class="btn btn-danger" (click)="handleGoBackToUserDetails()">Back To User Details</button>
        <button style="margin-top:60px;margin-left: 23%;cursor: not-allowed;" class="btn btn-primary" [disabled]="!paymentForm.valid" (click)="placeOrder()">Place Order</button>
    </form>
</div>

<div class="products">
    <div class="myCart">
        <h2>My Cart</h2>
    </div>
    <hr style="width: 20vw; margin-top: 5%;">
    <div *ngFor="let product of products">
        <img [src]="product.img" alt="" style="width: 141px; height: 141px; display: inline-block;">
        <div class="description">
            <div class="descLeft">
                <h4>{{ product.name }}</h4>
                <p>{{ product.wholesale }}€</p>
                <p>Quantity: {{ product.qty }}</p>
            </div>
        </div>
    </div>
    <hr style="width: 20vw; margin-top: 5%;">
    <div class="myCart">
        <h2>Total Price: {{ totalPrice }}&#x20AC;</h2>
    </div>
</div>
